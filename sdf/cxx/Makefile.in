# Makefile.in generated by automake 1.9.6 from Makefile.am.
# @configure_input@

# Copyright (C) 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002,
# 2003, 2004, 2005  Free Software Foundation, Inc.
# This Makefile.in is free software; the Free Software Foundation
# gives unlimited permission to copy and/or distribute it,
# with or without modifications, as long as this notice is preserved.

# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY, to the extent permitted by law; without
# even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.

@SET_MAKE@

# Makefile.am                                          -*-Makefile-*-

# -*-Makefile-*-

###########################################################
# File: Makefile.xt
#
# autoxt
#
# Description
#
# This Makefile provides support for compiling Stratego 
# programs and use of some other XT tools.
#
###########################################################
#
# Variables
#


srcdir = @srcdir@
top_srcdir = @top_srcdir@
VPATH = @srcdir@
pkgdatadir = $(datadir)/@PACKAGE@
pkglibdir = $(libdir)/@PACKAGE@
pkgincludedir = $(includedir)/@PACKAGE@
top_builddir = ../..
am__cd = CDPATH="$${ZSH_VERSION+.}$(PATH_SEPARATOR)" && cd
INSTALL = @INSTALL@
install_sh_DATA = $(install_sh) -c -m 644
install_sh_PROGRAM = $(install_sh) -c
install_sh_SCRIPT = $(install_sh) -c
INSTALL_HEADER = $(INSTALL_DATA)
transform = $(program_transform_name)
NORMAL_INSTALL = :
PRE_INSTALL = :
POST_INSTALL = :
NORMAL_UNINSTALL = :
PRE_UNINSTALL = :
POST_UNINSTALL = :
build_triplet = @build@
host_triplet = @host@
DIST_COMMON = $(srcdir)/Makefile.am $(srcdir)/Makefile.in \
	$(top_srcdir)/config/Makefile.xt \
	$(top_srcdir)/config/Transformers.mk
noinst_PROGRAMS = notemplate$(EXEEXT) deletecons$(EXEEXT)
libexec_PROGRAMS = eval-Cxx$(EXEEXT)
subdir = src/syn
ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
am__aclocal_m4_deps = $(top_srcdir)/config/autoxt.m4 \
	$(top_srcdir)/config/bundle.m4 $(top_srcdir)/configure.ac
am__configure_deps = $(am__aclocal_m4_deps) $(CONFIGURE_DEPENDENCIES) \
	$(ACLOCAL_M4)
mkinstalldirs = $(install_sh) -d
CONFIG_CLEAN_FILES =
am__installdirs = "$(DESTDIR)$(libexecdir)" "$(DESTDIR)$(pkgdatadir)"
libexecPROGRAMS_INSTALL = $(INSTALL_PROGRAM)
PROGRAMS = $(libexec_PROGRAMS) $(noinst_PROGRAMS)
nodist_deletecons_OBJECTS = deletecons.$(OBJEXT)
deletecons_OBJECTS = $(nodist_deletecons_OBJECTS)
deletecons_LDADD = $(LDADD)
am__DEPENDENCIES_1 =
am__DEPENDENCIES_2 = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1)
deletecons_DEPENDENCIES = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_2) \
	$(am__DEPENDENCIES_1)
eval_Cxx_SOURCES = eval-Cxx.c
eval_Cxx_OBJECTS = eval_Cxx-eval-Cxx.$(OBJEXT)
eval_Cxx_LDADD = $(LDADD)
eval_Cxx_DEPENDENCIES = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_2) \
	$(am__DEPENDENCIES_1)
nodist_notemplate_OBJECTS = notemplate.$(OBJEXT)
notemplate_OBJECTS = $(nodist_notemplate_OBJECTS)
notemplate_LDADD = $(LDADD)
notemplate_DEPENDENCIES = $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \
	$(am__DEPENDENCIES_1) $(am__DEPENDENCIES_2) \
	$(am__DEPENDENCIES_1)
DEFAULT_INCLUDES = -I. -I$(srcdir)
depcomp = $(SHELL) $(top_srcdir)/config/depcomp
am__depfiles_maybe = depfiles
COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
LTCOMPILE = $(LIBTOOL) --tag=CC --mode=compile $(CC) $(DEFS) \
	$(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) \
	$(AM_CFLAGS) $(CFLAGS)
CCLD = $(CC)
LINK = $(LIBTOOL) --tag=CC --mode=link $(CCLD) $(AM_CFLAGS) $(CFLAGS) \
	$(AM_LDFLAGS) $(LDFLAGS) -o $@
SOURCES = $(nodist_deletecons_SOURCES) eval-Cxx.c \
	$(nodist_notemplate_SOURCES)
DIST_SOURCES = eval-Cxx.c
am__vpath_adj_setup = srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`;
am__vpath_adj = case $$p in \
    $(srcdir)/*) f=`echo "$$p" | sed "s|^$$srcdirstrip/||"`;; \
    *) f=$$p;; \
  esac;
am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
pkgdataDATA_INSTALL = $(INSTALL_DATA)
DATA = $(pkgdata_DATA)
ETAGS = etags
CTAGS = ctags
DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
ACLOCAL = @ACLOCAL@
AMDEP_FALSE = @AMDEP_FALSE@
AMDEP_TRUE = @AMDEP_TRUE@
AMTAR = @AMTAR@
AM_CFLAGS = @AM_CFLAGS@
AR = @AR@
ASFIX_TOOLS = @ASFIX_TOOLS@
ASF_LIBRARY = @ASF_LIBRARY@
ATERM = @ATERM@
ATERM_CFLAGS = @ATERM_CFLAGS@
ATERM_FRONT = @ATERM_FRONT@
ATERM_LIBS = @ATERM_LIBS@
AUTOCONF = @AUTOCONF@
AUTOHEADER = @AUTOHEADER@
AUTOMAKE = @AUTOMAKE@
AWK = @AWK@
BOXEDSDF = @BOXEDSDF@
BOXEDSDF_CFLAGS = @BOXEDSDF_CFLAGS@
BOXEDSDF_LIBS = @BOXEDSDF_LIBS@
BUILD_REPOSITORY = @BUILD_REPOSITORY@
CC = @CC@
CCDEPMODE = @CCDEPMODE@
CFLAGS = @CFLAGS@
CFLAGS_EVAL = @CFLAGS_EVAL@
CONCRETE_SYNTAX = @CONCRETE_SYNTAX@
CPP = @CPP@
CPPDIR = @CPPDIR@
CPPFLAGS = @CPPFLAGS@
CXX = @CXX@
CXXCPP = @CXXCPP@
CXXDEPMODE = @CXXDEPMODE@
CXXFLAGS = @CXXFLAGS@
CYGPATH_W = @CYGPATH_W@
C_TOOLS = @C_TOOLS@
C_TOOLS_CFLAGS = @C_TOOLS_CFLAGS@
C_TOOLS_LIBS = @C_TOOLS_LIBS@
DEFS = @DEFS@
DEPDIR = @DEPDIR@
DIST_STR_LAZY = @DIST_STR_LAZY@
ECHO = @ECHO@
ECHO_C = @ECHO_C@
ECHO_N = @ECHO_N@
ECHO_T = @ECHO_T@
EGREP = @EGREP@
ESDF = @ESDF@
ESDF_CFLAGS = @ESDF_CFLAGS@
ESDF_LIBS = @ESDF_LIBS@
EXEEXT = @EXEEXT@
F77 = @F77@
FFLAGS = @FFLAGS@
GPP = @GPP@
HELP2MAN = @HELP2MAN@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_SCRIPT = @INSTALL_SCRIPT@
INSTALL_STRIP_PROGRAM = @INSTALL_STRIP_PROGRAM@
LDFLAGS = @LDFLAGS@
LIBOBJS = @LIBOBJS@
LIBS = @LIBS@
LIBTOOL = @LIBTOOL@
LN_S = @LN_S@
LTLIBOBJS = @LTLIBOBJS@
MAKEINFO = @MAKEINFO@
OBJEXT = @OBJEXT@
PACKAGE = @PACKAGE@
PACKAGE_BUGREPORT = @PACKAGE_BUGREPORT@
PACKAGE_NAME = @PACKAGE_NAME@
PACKAGE_STRING = @PACKAGE_STRING@
PACKAGE_TARNAME = @PACKAGE_TARNAME@
PACKAGE_VERSION = @PACKAGE_VERSION@
PATH_SEPARATOR = @PATH_SEPARATOR@
PGEN = @PGEN@
PKG_CONFIG = @PKG_CONFIG@
PT_SUPPORT = @PT_SUPPORT@
RANLIB = @RANLIB@
REPOSITORY = @REPOSITORY@
ROOT_XTC_IMPORT = @ROOT_XTC_IMPORT@
SDF = @SDF@
SDF_ASTGEN = @SDF_ASTGEN@
SDF_ASTGEN_CFLAGS = @SDF_ASTGEN_CFLAGS@
SDF_ASTGEN_LIBS = @SDF_ASTGEN_LIBS@
SDF_ATTRIBUTE = @SDF_ATTRIBUTE@
SDF_ATTRIBUTE_CFLAGS = @SDF_ATTRIBUTE_CFLAGS@
SDF_ATTRIBUTE_LIBS = @SDF_ATTRIBUTE_LIBS@
SDF_CFLAGS = @SDF_CFLAGS@
SDF_DETGEN = @SDF_DETGEN@
SDF_DETGEN_CFLAGS = @SDF_DETGEN_CFLAGS@
SDF_DETGEN_LIBS = @SDF_DETGEN_LIBS@
SDF_FRONT = @SDF_FRONT@
SDF_LIBS = @SDF_LIBS@
SDF_OPTION = @SDF_OPTION@
SDF_OPTION_CFLAGS = @SDF_OPTION_CFLAGS@
SDF_OPTION_LIBS = @SDF_OPTION_LIBS@
SDF_TOOLS = @SDF_TOOLS@
SET_MAKE = @SET_MAKE@
SGLR = @SGLR@
SHELL = @SHELL@
STLPORTDIR = @STLPORTDIR@
STRATEGOXT = @STRATEGOXT@
STRATEGOXT_CFLAGS = @STRATEGOXT_CFLAGS@
STRATEGOXT_LIBS = @STRATEGOXT_LIBS@
STRATEGO_FRONT = @STRATEGO_FRONT@
STRATEGO_LIB = @STRATEGO_LIB@
STRATEGO_LIB_CFLAGS = @STRATEGO_LIB_CFLAGS@
STRATEGO_LIB_LIBS = @STRATEGO_LIB_LIBS@
STRATEGO_REGULAR = @STRATEGO_REGULAR@
STRATEGO_RUNTIME = @STRATEGO_RUNTIME@
STRATEGO_RUNTIME_CFLAGS = @STRATEGO_RUNTIME_CFLAGS@
STRATEGO_RUNTIME_LIBS = @STRATEGO_RUNTIME_LIBS@
STRC = @STRC@
STRIP = @STRIP@
STRS = @STRS@
STR_LAZY = @STR_LAZY@
STR_LAZY_CFLAGS = @STR_LAZY_CFLAGS@
STR_LAZY_LIBS = @STR_LAZY_LIBS@
SVN_REVISION = @SVN_REVISION@
TFS_INSTALLED_DIR = @TFS_INSTALLED_DIR@
TFS_PKG_DEPS = @TFS_PKG_DEPS@
VERSION = @VERSION@
XML_FRONT = @XML_FRONT@
XTC = @XTC@
XTC_CFLAGS = @XTC_CFLAGS@
XTC_LIBS = @XTC_LIBS@
XTC_PROG = @XTC_PROG@
XT_DARWIN_FALSE = @XT_DARWIN_FALSE@
XT_DARWIN_TRUE = @XT_DARWIN_TRUE@
ac_ct_AR = @ac_ct_AR@
ac_ct_CC = @ac_ct_CC@
ac_ct_CXX = @ac_ct_CXX@
ac_ct_F77 = @ac_ct_F77@
ac_ct_RANLIB = @ac_ct_RANLIB@
ac_ct_STRIP = @ac_ct_STRIP@
ac_pt_PKG_CONFIG = @ac_pt_PKG_CONFIG@
am__fastdepCC_FALSE = @am__fastdepCC_FALSE@
am__fastdepCC_TRUE = @am__fastdepCC_TRUE@
am__fastdepCXX_FALSE = @am__fastdepCXX_FALSE@
am__fastdepCXX_TRUE = @am__fastdepCXX_TRUE@
am__include = @am__include@
am__leading_dot = @am__leading_dot@
am__quote = @am__quote@
am__tar = @am__tar@
am__untar = @am__untar@
bindir = @bindir@
build = @build@
build_alias = @build_alias@
build_cpu = @build_cpu@
build_os = @build_os@
build_vendor = @build_vendor@
datadir = @datadir@
exec_prefix = @exec_prefix@
host = @host@
host_alias = @host_alias@
host_cpu = @host_cpu@
host_os = @host_os@
host_vendor = @host_vendor@
includedir = @includedir@
infodir = @infodir@
install_sh = @install_sh@
libdir = @libdir@
libexecdir = @libexecdir@
localstatedir = @localstatedir@
mandir = @mandir@
mkdir_p = @mkdir_p@
oldincludedir = @oldincludedir@
prefix = @prefix@
program_transform_name = @program_transform_name@
sbindir = @sbindir@
sharedstatedir = @sharedstatedir@
sysconfdir = @sysconfdir@
target_alias = @target_alias@
AM_CPPFLAGS = $(STRATEGO_LIB_CFLAGS) $(STRATEGO_RUNTIME_CFLAGS) $(ATERM_CFLAGS)
LDADD = $(STRATEGO_LIB_LIBS) $(STRATEGO_RUNTIME_LIBS) $(ATERM_LIBS) \
	$(SSL_LIBS) $(STR_LAZY_LIBS)

# backwards compatibilty: prefer STRATEGO_LIB_LIBS and STRATEGO_RUNTIME_LIBS in new code.
SSL_LIBS = $(XTC_LIBS) $(STRATEGO_LIB_LIBS) $(STRATEGO_RUNTIME_LIBS) $(ATERM_LIBS)
STRATEGORUNLIBS = $(STRATEGO_RUNTIME_LIBS)
@XT_DARWIN_FALSE@AM_LDFLAGS = 
@XT_DARWIN_TRUE@AM_LDFLAGS = -bind_at_load
SUFFIXES = .str .cr .r .rtree .def .tbl .pp .sdf .rtg .rtg-nf .pp \
	.pp.af .edef .edef.af .def.af
SCOMPILE = $(STRC)/bin/strc
PARSESTRATEGO = $(STRATEGO_FRONT)/bin/parse-stratego
pkgconfigdir = $(libdir)/pkgconfig
sdfdatadir = $(datadir)/sdf/$(PACKAGE)
docdatadir = $(datadir)/doc/$(PACKAGE)

###########################################################
#
# Makerules for XTC
#
XTCFLAGS = -I $(XTC)/share/xtc 
DREPOSITORY = $(DESTDIR)$(REPOSITORY)
PGEN_FLAGS = -m $*
SDF2RTG_FLAGS = -m $*
SCFLAGS = --verbose 0 -O 2
STRINCLUDES = -I $(SDF_ATTRIBUTE)/share/sdf-attribute	\
		  -I $(srcdir)					\
		  -I $(STR_LAZY)/share/str-lazy

ATTRSDF2TABLE_FLAGS = --imp CxxLib
AG_GRM = Cxx.ag
pkgdata_DATA = \
		  Cxx.edef.af \
		  Cxx.edef \
		  Cxx.def.af \
		  Cxx.def \
		  Cxx.tbl \
		  Cxx.pp.af \
		  Cxx.pp \
		  Cxx.str \
		  Cxx.rtree

EXTRA_DIST = $(SDFS) 			\
		notemplate.str 			\
		deletecons.str			\
		CxxLib.str			\
		ns-lookup.str			\
		ExtraCons.str			\
		Ids.str				\
		codeboost-tree.str		\
		valid-types.str			\
		kinds.str

SDFS = \
		AccessSpecifiers.sdf \
		AdditiveExpressions.sdf \
		AndExpressions.sdf \
		AsmDefinitions.sdf \
		AssignmentExpressions.sdf \
		BaseSpecifiers.sdf \
		BooleanLiterals.sdf \
		CastExpressions.sdf \
		CharacterLiterals.sdf \
		Characters.sdf \
		ClassSpecifiers.sdf \
		CompoundStatements.sdf \
		ConditionalExpressions.sdf \
		ConstantExpressions.sdf \
		ConversionFunctionIds.sdf \
		Cxx.sdf \
		CtorInitializers.sdf \
		CvQualifiers.sdf \
		DeclarationStatements.sdf \
		Declarations.sdf \
		Declarators.sdf \
		DeleteExpressions.sdf \
		ElaboratedTypeSpecifiers.sdf \
		EnumSpecifiers.sdf \
		EqualityExpressions.sdf \
		EscapeSequences.sdf \
		ExceptionSpecifications.sdf \
		ExclusiveOrExpressions.sdf \
		ExplicitInstantiations.sdf \
		ExplicitSpecializations.sdf \
		ExpressionStatements.sdf \
		Expressions.sdf \
		FloatingLiterals.sdf \
		FunctionDefinitions.sdf \
		FunctionSpecifiers.sdf \
		IdExpressions.sdf \
		Identifiers.sdf \
		InclusiveOrExpressions.sdf \
		InitDeclarators.sdf \
		Initializers.sdf \
		IntegerLiterals.sdf \
		IterationStatements.sdf \
		JumpStatements.sdf \
		Keywords.sdf \
		LabeledStatements.sdf \
		Layout.sdf \
		LinkageSpecifications.sdf \
		Literals.sdf \
		LogicalAndExpressions.sdf \
		LogicalOrExpressions.sdf \
		MemberSpecifications.sdf \
		MultiplicativeExpressions.sdf \
		NamespaceAliases.sdf \
		Namespaces.sdf \
		NewExpressions.sdf \
		OperatorFunctionIds.sdf \
		ParameterDeclarations.sdf \
		PmExpressions.sdf \
		PostfixExpressions.sdf \
		PrimaryExpressions.sdf \
		RelationalExpressions.sdf \
		SelectionStatements.sdf \
		ShiftExpressions.sdf \
		SimpleTypeSpecifiers.sdf \
		Specifiers.sdf \
		Statements.sdf \
		StorageClassSpecifiers.sdf \
		StringLiterals.sdf \
		TemplateDeclarations.sdf \
		TemplateIds.sdf \
		TemplateParameters.sdf \
		ThrowExpressions.sdf \
		TranslationUnits.sdf \
		TryBlocks.sdf \
		TypeIds.sdf \
		TypeSpecifiers.sdf \
		UnaryExpressions.sdf \
		UsingDeclarations.sdf \
		UsingDirectives.sdf

nodist_notemplate_SOURCES = notemplate.c
nodist_deletecons_SOURCES = deletecons.c
CLEANFILES = $(pkgdata_DATA) notemplate.{c.dep,c} eval-Cxx.{c,str,c.dep} \
	     deletecons.{c.dep,c} Cxx.edef-fast

eval_Cxx_LDFLAGS = -R $(DIST_STR_LAZY)
eval_Cxx_CFLAGS = $(CFLAGS_EVAL)
all: all-am

.SUFFIXES:
.SUFFIXES: .str .cr .r .rtree .def .tbl .pp .sdf .rtg .rtg-nf .pp .pp.af .edef .edef.af .def.af .c .lo .o .obj
$(srcdir)/Makefile.in:  $(srcdir)/Makefile.am $(top_srcdir)/config/Transformers.mk $(top_srcdir)/config/Makefile.xt $(am__configure_deps)
	@for dep in $?; do \
	  case '$(am__configure_deps)' in \
	    *$$dep*) \
	      cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh \
		&& exit 0; \
	      exit 1;; \
	  esac; \
	done; \
	echo ' cd $(top_srcdir) && $(AUTOMAKE) --gnu  src/syn/Makefile'; \
	cd $(top_srcdir) && \
	  $(AUTOMAKE) --gnu  src/syn/Makefile
.PRECIOUS: Makefile
Makefile: $(srcdir)/Makefile.in $(top_builddir)/config.status
	@case '$?' in \
	  *config.status*) \
	    cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh;; \
	  *) \
	    echo ' cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe)'; \
	    cd $(top_builddir) && $(SHELL) ./config.status $(subdir)/$@ $(am__depfiles_maybe);; \
	esac;

$(top_builddir)/config.status: $(top_srcdir)/configure $(CONFIG_STATUS_DEPENDENCIES)
	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh

$(top_srcdir)/configure:  $(am__configure_deps)
	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
$(ACLOCAL_M4):  $(am__aclocal_m4_deps)
	cd $(top_builddir) && $(MAKE) $(AM_MAKEFLAGS) am--refresh
install-libexecPROGRAMS: $(libexec_PROGRAMS)
	@$(NORMAL_INSTALL)
	test -z "$(libexecdir)" || $(mkdir_p) "$(DESTDIR)$(libexecdir)"
	@list='$(libexec_PROGRAMS)'; for p in $$list; do \
	  p1=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
	  if test -f $$p \
	     || test -f $$p1 \
	  ; then \
	    f=`echo "$$p1" | sed 's,^.*/,,;$(transform);s/$$/$(EXEEXT)/'`; \
	   echo " $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(libexecPROGRAMS_INSTALL) '$$p' '$(DESTDIR)$(libexecdir)/$$f'"; \
	   $(INSTALL_PROGRAM_ENV) $(LIBTOOL) --mode=install $(libexecPROGRAMS_INSTALL) "$$p" "$(DESTDIR)$(libexecdir)/$$f" || exit 1; \
	  else :; fi; \
	done

uninstall-libexecPROGRAMS:
	@$(NORMAL_UNINSTALL)
	@list='$(libexec_PROGRAMS)'; for p in $$list; do \
	  f=`echo "$$p" | sed 's,^.*/,,;s/$(EXEEXT)$$//;$(transform);s/$$/$(EXEEXT)/'`; \
	  echo " rm -f '$(DESTDIR)$(libexecdir)/$$f'"; \
	  rm -f "$(DESTDIR)$(libexecdir)/$$f"; \
	done

clean-libexecPROGRAMS:
	@list='$(libexec_PROGRAMS)'; for p in $$list; do \
	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
	  echo " rm -f $$p $$f"; \
	  rm -f $$p $$f ; \
	done

clean-noinstPROGRAMS:
	@list='$(noinst_PROGRAMS)'; for p in $$list; do \
	  f=`echo $$p|sed 's/$(EXEEXT)$$//'`; \
	  echo " rm -f $$p $$f"; \
	  rm -f $$p $$f ; \
	done
deletecons$(EXEEXT): $(deletecons_OBJECTS) $(deletecons_DEPENDENCIES) 
	@rm -f deletecons$(EXEEXT)
	$(LINK) $(deletecons_LDFLAGS) $(deletecons_OBJECTS) $(deletecons_LDADD) $(LIBS)
eval-Cxx$(EXEEXT): $(eval_Cxx_OBJECTS) $(eval_Cxx_DEPENDENCIES) 
	@rm -f eval-Cxx$(EXEEXT)
	$(LINK) $(eval_Cxx_LDFLAGS) $(eval_Cxx_OBJECTS) $(eval_Cxx_LDADD) $(LIBS)
notemplate$(EXEEXT): $(notemplate_OBJECTS) $(notemplate_DEPENDENCIES) 
	@rm -f notemplate$(EXEEXT)
	$(LINK) $(notemplate_LDFLAGS) $(notemplate_OBJECTS) $(notemplate_LDADD) $(LIBS)

mostlyclean-compile:
	-rm -f *.$(OBJEXT)

distclean-compile:
	-rm -f *.tab.c

@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/deletecons.Po@am__quote@
@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/eval_Cxx-eval-Cxx.Po@am__quote@
@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/notemplate.Po@am__quote@

.c.o:
@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
@am__fastdepCC_FALSE@	$(COMPILE) -c $<

.c.obj:
@am__fastdepCC_TRUE@	if $(COMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ `$(CYGPATH_W) '$<'`; \
@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Po"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=no @AMDEPBACKSLASH@
@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
@am__fastdepCC_FALSE@	$(COMPILE) -c `$(CYGPATH_W) '$<'`

.c.lo:
@am__fastdepCC_TRUE@	if $(LTCOMPILE) -MT $@ -MD -MP -MF "$(DEPDIR)/$*.Tpo" -c -o $@ $<; \
@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/$*.Tpo" "$(DEPDIR)/$*.Plo"; else rm -f "$(DEPDIR)/$*.Tpo"; exit 1; fi
@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='$<' object='$@' libtool=yes @AMDEPBACKSLASH@
@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
@am__fastdepCC_FALSE@	$(LTCOMPILE) -c -o $@ $<

eval_Cxx-eval-Cxx.o: eval-Cxx.c
@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(eval_Cxx_CFLAGS) $(CFLAGS) -MT eval_Cxx-eval-Cxx.o -MD -MP -MF "$(DEPDIR)/eval_Cxx-eval-Cxx.Tpo" -c -o eval_Cxx-eval-Cxx.o `test -f 'eval-Cxx.c' || echo '$(srcdir)/'`eval-Cxx.c; \
@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/eval_Cxx-eval-Cxx.Tpo" "$(DEPDIR)/eval_Cxx-eval-Cxx.Po"; else rm -f "$(DEPDIR)/eval_Cxx-eval-Cxx.Tpo"; exit 1; fi
@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='eval-Cxx.c' object='eval_Cxx-eval-Cxx.o' libtool=no @AMDEPBACKSLASH@
@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(eval_Cxx_CFLAGS) $(CFLAGS) -c -o eval_Cxx-eval-Cxx.o `test -f 'eval-Cxx.c' || echo '$(srcdir)/'`eval-Cxx.c

eval_Cxx-eval-Cxx.obj: eval-Cxx.c
@am__fastdepCC_TRUE@	if $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(eval_Cxx_CFLAGS) $(CFLAGS) -MT eval_Cxx-eval-Cxx.obj -MD -MP -MF "$(DEPDIR)/eval_Cxx-eval-Cxx.Tpo" -c -o eval_Cxx-eval-Cxx.obj `if test -f 'eval-Cxx.c'; then $(CYGPATH_W) 'eval-Cxx.c'; else $(CYGPATH_W) '$(srcdir)/eval-Cxx.c'; fi`; \
@am__fastdepCC_TRUE@	then mv -f "$(DEPDIR)/eval_Cxx-eval-Cxx.Tpo" "$(DEPDIR)/eval_Cxx-eval-Cxx.Po"; else rm -f "$(DEPDIR)/eval_Cxx-eval-Cxx.Tpo"; exit 1; fi
@AMDEP_TRUE@@am__fastdepCC_FALSE@	source='eval-Cxx.c' object='eval_Cxx-eval-Cxx.obj' libtool=no @AMDEPBACKSLASH@
@AMDEP_TRUE@@am__fastdepCC_FALSE@	DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@
@am__fastdepCC_FALSE@	$(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) $(CPPFLAGS) $(eval_Cxx_CFLAGS) $(CFLAGS) -c -o eval_Cxx-eval-Cxx.obj `if test -f 'eval-Cxx.c'; then $(CYGPATH_W) 'eval-Cxx.c'; else $(CYGPATH_W) '$(srcdir)/eval-Cxx.c'; fi`

mostlyclean-libtool:
	-rm -f *.lo

clean-libtool:
	-rm -rf .libs _libs

distclean-libtool:
	-rm -f libtool
uninstall-info-am:
install-pkgdataDATA: $(pkgdata_DATA)
	@$(NORMAL_INSTALL)
	test -z "$(pkgdatadir)" || $(mkdir_p) "$(DESTDIR)$(pkgdatadir)"
	@list='$(pkgdata_DATA)'; for p in $$list; do \
	  if test -f "$$p"; then d=; else d="$(srcdir)/"; fi; \
	  f=$(am__strip_dir) \
	  echo " $(pkgdataDATA_INSTALL) '$$d$$p' '$(DESTDIR)$(pkgdatadir)/$$f'"; \
	  $(pkgdataDATA_INSTALL) "$$d$$p" "$(DESTDIR)$(pkgdatadir)/$$f"; \
	done

uninstall-pkgdataDATA:
	@$(NORMAL_UNINSTALL)
	@list='$(pkgdata_DATA)'; for p in $$list; do \
	  f=$(am__strip_dir) \
	  echo " rm -f '$(DESTDIR)$(pkgdatadir)/$$f'"; \
	  rm -f "$(DESTDIR)$(pkgdatadir)/$$f"; \
	done

ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
	list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	mkid -fID $$unique
tags: TAGS

TAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
		$(TAGS_FILES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	if test -z "$(ETAGS_ARGS)$$tags$$unique"; then :; else \
	  test -n "$$unique" || unique=$$empty_fix; \
	  $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
	    $$tags $$unique; \
	fi
ctags: CTAGS
CTAGS:  $(HEADERS) $(SOURCES)  $(TAGS_DEPENDENCIES) \
		$(TAGS_FILES) $(LISP)
	tags=; \
	here=`pwd`; \
	list='$(SOURCES) $(HEADERS)  $(LISP) $(TAGS_FILES)'; \
	unique=`for i in $$list; do \
	    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
	  done | \
	  $(AWK) '    { files[$$0] = 1; } \
	       END { for (i in files) print i; }'`; \
	test -z "$(CTAGS_ARGS)$$tags$$unique" \
	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
	     $$tags $$unique

GTAGS:
	here=`$(am__cd) $(top_builddir) && pwd` \
	  && cd $(top_srcdir) \
	  && gtags -i $(GTAGS_ARGS) $$here

distclean-tags:
	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags

distdir: $(DISTFILES)
	$(mkdir_p) $(distdir)/../../config
	@srcdirstrip=`echo "$(srcdir)" | sed 's|.|.|g'`; \
	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's|.|.|g'`; \
	list='$(DISTFILES)'; for file in $$list; do \
	  case $$file in \
	    $(srcdir)/*) file=`echo "$$file" | sed "s|^$$srcdirstrip/||"`;; \
	    $(top_srcdir)/*) file=`echo "$$file" | sed "s|^$$topsrcdirstrip/|$(top_builddir)/|"`;; \
	  esac; \
	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
	    dir="/$$dir"; \
	    $(mkdir_p) "$(distdir)$$dir"; \
	  else \
	    dir=''; \
	  fi; \
	  if test -d $$d/$$file; then \
	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
	      cp -pR $(srcdir)/$$file $(distdir)$$dir || exit 1; \
	    fi; \
	    cp -pR $$d/$$file $(distdir)$$dir || exit 1; \
	  else \
	    test -f $(distdir)/$$file \
	    || cp -p $$d/$$file $(distdir)/$$file \
	    || exit 1; \
	  fi; \
	done
check-am: all-am
check: check-am
all-am: Makefile $(PROGRAMS) $(DATA) all-local
installdirs:
	for dir in "$(DESTDIR)$(libexecdir)" "$(DESTDIR)$(pkgdatadir)"; do \
	  test -z "$$dir" || $(mkdir_p) "$$dir"; \
	done
install: install-am
install-exec: install-exec-am
install-data: install-data-am
uninstall: uninstall-am

install-am: all-am
	@$(MAKE) $(AM_MAKEFLAGS) install-exec-am install-data-am

installcheck: installcheck-am
install-strip:
	$(MAKE) $(AM_MAKEFLAGS) INSTALL_PROGRAM="$(INSTALL_STRIP_PROGRAM)" \
	  install_sh_PROGRAM="$(INSTALL_STRIP_PROGRAM)" INSTALL_STRIP_FLAG=-s \
	  `test -z '$(STRIP)' || \
	    echo "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'"` install
mostlyclean-generic:

clean-generic:
	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)

distclean-generic:
	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)

maintainer-clean-generic:
	@echo "This command is intended for maintainers to use"
	@echo "it deletes files that may require special tools to rebuild."
clean: clean-am

clean-am: clean-generic clean-libexecPROGRAMS clean-libtool \
	clean-noinstPROGRAMS mostlyclean-am

distclean: distclean-am
	-rm -rf ./$(DEPDIR)
	-rm -f Makefile
distclean-am: clean-am distclean-compile distclean-generic \
	distclean-libtool distclean-tags

dvi: dvi-am

dvi-am:

html: html-am

info: info-am

info-am:

install-data-am: install-data-local install-pkgdataDATA

install-exec-am: install-exec-local install-libexecPROGRAMS

install-info: install-info-am

install-man:

installcheck-am:

maintainer-clean: maintainer-clean-am
	-rm -rf ./$(DEPDIR)
	-rm -f Makefile
maintainer-clean-am: distclean-am maintainer-clean-generic

mostlyclean: mostlyclean-am

mostlyclean-am: mostlyclean-compile mostlyclean-generic \
	mostlyclean-libtool

pdf: pdf-am

pdf-am:

ps: ps-am

ps-am:

uninstall-am: uninstall-info-am uninstall-libexecPROGRAMS \
	uninstall-pkgdataDATA

.PHONY: CTAGS GTAGS all all-am all-local check check-am clean \
	clean-generic clean-libexecPROGRAMS clean-libtool \
	clean-noinstPROGRAMS ctags distclean distclean-compile \
	distclean-generic distclean-libtool distclean-tags distdir dvi \
	dvi-am html html-am info info-am install install-am \
	install-data install-data-am install-data-local install-exec \
	install-exec-am install-exec-local install-info \
	install-info-am install-libexecPROGRAMS install-man \
	install-pkgdataDATA install-strip installcheck installcheck-am \
	installdirs maintainer-clean maintainer-clean-generic \
	mostlyclean mostlyclean-compile mostlyclean-generic \
	mostlyclean-libtool pdf pdf-am ps ps-am tags uninstall \
	uninstall-am uninstall-info-am uninstall-libexecPROGRAMS \
	uninstall-pkgdataDATA


###########################################################
#
# Make rules for Stratego programs
#

.str.c : 
	$(SCOMPILE) $(STRINCLUDES) $(SCFLAGS) -i $< -o $@ -c

.str.rtree :
	$(PARSESTRATEGO) $(STRINCLUDES) -i $< -o $@ 

.rtree.c : 
	$(SCOMPILE) $(STRINCLUDES) $(SCFLAGS) -i $< -o $@ -c

# Note: the .r and .cr extensions are obsolete. The following
# rules take care of the conversion, while keeping the original
# files.

migrate :
	for file in fordummy $(wildcard *.r) ; do \
	 	if [ "$$file" = "fordummy" ]; then continue; fi; \
	  mv $$file `basename $$file .r`.str ; \
	done
	for file in fordummy $(wildcard *.cr) ; do \
	 	if [ "$$file" = "fordummy" ]; then continue; fi; \
	  mv $$file `basename $$file .cr`.str ; \
	done 
	for file in fordummy $(wildcard *.syn) ; do \
	 	if [ "$$file" = "fordummy" ]; then continue; fi; \
	  echo "Meta([Syntax(\"`cat $$file`\")])" > `basename $$file .syn`.meta ; \
	done

bootclean-am: clean-am
	-test -z "$(BOOTCLEANFILES)" || rm -f $(BOOTCLEANFILES)

bootclean : bootclean-recursive

bootclean-recursive :
	@dot_seen=no; \
	target=bootclean; \
	list='$(BOOTCLEAN_SUBDIRS) .'; for subdir in $$list; do \
	  echo "Making $$target in $$subdir"; \
	  if test "$$subdir" = "."; then \
	    dot_seen=yes; \
	    local_target="$$target-am"; \
	  else \
	    local_target="$$target"; \
	  fi; \
	  (cd $$subdir && $(MAKE) $(AM_MAKEFLAGS) $$local_target) \
	   || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	done; \
	if test "$$dot_seen" = "no"; then \
	  $(MAKE) $(AM_MAKEFLAGS) "$$target-am" || exit 1; \
	fi; test -z "$$fail"

###########################################################
#
# Makerules for SDF definitions
#

.sdf.def : 
	$(SDF_FRONT)/bin/pack-sdf $(SDFINCLUDES) -i $< -o $@ --dep $*.dep

.def.tbl :
	$(PGEN)/bin/sdf2table $(PGEN_FLAGS) -i $< -o $@ 

###########################################################
#
# Makerules for GPP
#

%.pp.af : %.pp
	$(GPP)/bin/parse-pp-table -i $< -o $@

.def.pp :
	@if [ ! -f ${srcdir}/$@ ]; then \
           $(GPP)/bin/ppgen -i $< -o $@ ;\
        else \
           $(GPP)/bin/parse-pp-table -i ${srcdir}/$@ -o $@.af ;\
           $(GPP)/bin/ppgen -t -i $< \
           | $(GPP)/bin/pptable-diff --old $@.af 2>&1 || \
                     eval "echo '## pptable-diff error: $@ is not consistent with syntax definition' >&2; exit 1";\
           touch $@ ;\
           $(RM) $@.af ;\
        fi

###########################################################
#
# Makerules for Stratego Regular
#

.def.rtg :
	$(STRATEGO_REGULAR)/bin/sdf2rtg $(SDF2RTG_FLAGS) -i $< -o $@

.rtg.str :
	$(STRATEGO_REGULAR)/bin/rtg2sig --module `basename "$*"` -i $< -o $@

.rtg.rtg-nf :
	$(STRATEGO_REGULAR)/bin/parse-rtg -i $< | \
	$(STRATEGO_REGULAR)/libexec/rtg-reduce | \
	$(STRATEGO_REGULAR)/libexec/rtg-group -o $@

relname:
	echo -n $(distdir) > relname

install-data-local::
	$(mkinstalldirs) `dirname $(DREPOSITORY)`
	@$(XTC_PROG) -r $(DREPOSITORY) register -l $(prefix) -V $(VERSION) -t $(PACKAGE); \
	for file in fordummy $(XTC_IMPORT) ; do \
	 	 	 	  if [ "$$file" = "fordummy" ]; then continue; fi; \
	  $(XTC_PROG) -r $(DREPOSITORY) import $$file ; \
	  echo $(XTC_PROG) -r $(DREPOSITORY) import $$file ; \
        done ; \
	for file in fordummy $(pkgdata_DATA) ; do \
	 	 	 	  if [ "$$file" = "fordummy" ]; then continue; fi; \
          $(XTC_PROG) -r $(DREPOSITORY) register -l $(pkgdatadir) -V $(VERSION) \
		-t $$file ; \
        done ; \
	for file in fordummy $(sdfdata_DATA) ; do \
	 	 	 	  if [ "$$file" = "fordummy" ]; then continue; fi; \
          $(XTC_PROG) -r $(DREPOSITORY) register -l $(sdfdatadir) -V $(VERSION) \
		-t $$file ; \
        done; \
	echo "Data registered in repository $(DREPOSITORY): $(pkgdata_DATA) $(sdfdata_DATA)"

install-exec-local::
	$(mkinstalldirs) `dirname $(DREPOSITORY)`
	@for file in fordummy $(bin_PROGRAMS) $(bin_SCRIPTS) ; do \
	 	      if [ "$$file" = "fordummy" ]; then continue; fi; \
          $(XTC_PROG) -r $(DREPOSITORY) register -l $(bindir) -V $(VERSION) \
		-t `basename $$file $(EXEEXT)` ; \
        done ; \
	for file in fordummy $(libexec_PROGRAMS) $(libexec_SCRIPTS) ; do \
	 	      if [ "$$file" = "fordummy" ]; then continue; fi; \
          $(XTC_PROG) -r $(DREPOSITORY) register -l $(libexecdir) -V $(VERSION) \
		-t `basename $$file $(EXEEXT)` ; \
        done; \
	echo "Tools registered in repository $(DREPOSITORY): $(bin_PROGRAMS) $(bin_SCRIPTS) $(libexec_PROGRAMS) $(libexec_SCRIPTS)"

all-local::
	@for file in fordummy $(XTC_IMPORT) ; do \
	  if [ "$$file" = "fordummy" ]; then continue; fi; \
	  $(XTC_PROG) -r $(BUILD_REPOSITORY) import $$file ; \
	  echo $(XTC_PROG) -r $(BUILD_REPOSITORY) import $$file ; \
        done ; \
	for file in fordummy $(pkgdata_DATA) ; do \
 	  if [ "$$file" = "fordummy" ]; then continue; fi; \
          if test -f "$$file"; then d="`pwd`"; else d="@abs_srcdir@"; fi; \
          $(XTC_PROG) -r $(BUILD_REPOSITORY) register -l "$$d" -V $(VERSION) \
		-t $$file ; \
        done ; \
	for file in fordummy $(sdfdata_DATA) ; do \
	  if [ "$$file" = "fordummy" ]; then continue; fi; \
          if test -f "$$file"; then d="`pwd`"; else d="@abs_srcdir@"; fi; \
          $(XTC_PROG) -r $(BUILD_REPOSITORY) register -l "$$d" -V $(VERSION) \
		-t $$file ; \
        done; \
	for file in fordummy $(bin_PROGRAMS) $(bin_SCRIPTS) ; do \
	  if [ "$$file" = "fordummy" ]; then continue; fi; \
          if test -f "$$file"; then d="`pwd`"; else d="@abs_srcdir@"; fi; \
          $(XTC_PROG) -r $(BUILD_REPOSITORY) register -l "$$d" -V $(VERSION) \
		-t `basename $$file $(EXEEXT)` ; \
        done ; \
	for file in fordummy $(libexec_PROGRAMS) $(libexec_SCRIPTS) ; do \
	  if [ "$$file" = "fordummy" ]; then continue; fi; \
          $(XTC_PROG) -r $(BUILD_REPOSITORY) register -l `pwd` -V $(VERSION) \
		-t `basename $$file $(EXEEXT)` ; \
        done; \
	echo "Tools registered in repository $(BUILD_REPOSITORY): $(bin_PROGRAMS) $(bin_SCRIPTS) $(libexec_PROGRAMS) $(libexec_SCRIPTS)" ; \
	echo "Data registered in repository $(BUILD_REPOSITORY): $(pkgdata_DATA) $(sdfdata_DATA)"

###########################################################

%.def.af: %.edef.af
	$(ESDF)/bin/sdf-strip -i $< -o $@

%.pp: %.edef.af
	$(BOXEDSDF)/bin/boxed2pp-table -i $< \
	| $(SDF_TOOLS)/bin/pp-pp-table -o $@

%.def.af : %.sdf
	$(SDF_FRONT)/bin/pack-sdf $(SDFINCLUDES) -i $< -o $@ -of ast

%.def: %.def.af
	$(SDF_FRONT)/libexec/sdf-desugar -i $< \
	| $(GPP)/bin/pp-sdf -o $@

#FIXME: duplicated rule with Makefile.xt
# %.tbl: %.def
# 	$(PGEN)/bin/sdf2table $(PGEN_FLAGS) -i $< -o $@ 2>&1 \
# 	| (grep -v 'constructor-has-already-been-used' || true)

%.c: %.str
	$(SCOMPILE) $(STRINCLUDES) $(SCFLAGS) -i $< -o $@ -c 2>&1 \
	| (grep -v '^warning: lowercase constructor name found:' || true)

%.c: %.rtree 
	$(SCOMPILE) $(STRINCLUDES) $(SCFLAGS) -i $< -o $@ -c 2>&1 \
	| (grep -v '^warning: lowercase constructor name found:' || true)

#%.pp: %.pp.af
#        $(SDF_TOOLS)/bin/pp-pp-table -i $< -o $@

###########################################################
#
# Makerules for creating table and evaluator from AG grammar.
#
# Some rules overlaps with standard ones, thus there are not
# always default targets available.
# Instead, you have to define the variable AC_GRM when using AG.
#

# Hack to help pack-esdf to pack its sdf files in a speeder
# manner, for the rule %edef.af: *.sdf
$(AG_GRM:.ag=.edef-fast): $(addprefix $(srcdir)/,$(SDFS))
	( echo definition; cat $^ ) > $@

# Maintainer rule to help catching errors in sdf files.
beat-me-im-naughty: $(addprefix $(srcdir)/,$(SDFS))
	$(ESDF)/bin/pack-esdf \
		-of ast \
		-s AttrSdf \
		-I $(SDF_ATTRIBUTE)/share/sdf-attribute \
		-I $(srcdir) \
		-i $(srcdir)/$(AG_GRM:.ag=.sdf) -o /dev/null

# This rule will be likely overriden, because other commands
# are commonly needed after pack-esdf
%.edef.af: %.edef-fast
	$(ESDF)/bin/pack-esdf \
		-of ast \
		-s AttrSdf \
		-Idef $< \
		-I $(SDF_ATTRIBUTE)/share/sdf-attribute \
		-i $(srcdir)/$(@:.edef.af=.sdf) \
	| $(SDF_TOOLS)/libexec/sdf-cons \
	| $(BOXEDSDF)/libexec/boxed-desugar -o $@

# FIXME: should be handled by esdf
%.edef: %.edef.af
	$(SDF_ATTRIBUTE)/bin/pp-attrsdf -i $< -o $@

# FIXME: should be handled by esdf
%.def: %.edef
	$(SDF_ATTRIBUTE)/bin/parse-attrsdf-definition -i $< | \
	$(ESDF)/bin/sdf-strip | \
	$(GPP)/bin/pp-sdf -o $@

# In other Makefiles, %.tbl is dependant to %.def
$(AG_GRM:.ag=.tbl): $(AG_GRM:.ag=.edef) $(AG_GRM:.ag=.def)
	$(SDF_ATTRIBUTE)/bin/attrsdf2table $(PGEN_FLAGS) -i $< -o $@ \
          $(ATTRSDF2TABLE_FLAGS)

# attrsdf2table is evil: it outputs two files, %.tbl and eval-%.str.
eval-$(AG_GRM:.ag=.str) : $(AG_GRM:.ag=.tbl)
eval-$(AG_GRM:.ag=.c) : $(AG_GRM:.ag=.str) eval-$(AG_GRM:.ag=.str)

-include notemplate.c.dep
-include eval-Cxx.c.dep
-include deletecons.c.dep

Cxx.edef.af: notemplate deletecons Cxx.edef-fast
	$(ESDF)/bin/pack-esdf --verbose 1 \
		-of ast \
		-s AttrSdf \
		-I $(SDF_ATTRIBUTE)/share/sdf-attribute \
		-Idef Cxx.edef-fast \
		-i $(srcdir)/Cxx.sdf \
	| $(SDF_OPTION)/bin/sdf-option -b \
	| $(SDF_TOOLS)/libexec/sdf-cons -b \
	| ./deletecons -b \
	| $(BOXEDSDF)/libexec/boxed-desugar -b \
	| ./notemplate -b -o $@
# Tell versions [3.59,3.63) of GNU make to not export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
